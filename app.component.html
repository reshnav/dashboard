<div class="dashboard-wrapper">

  <div class="sidebar-card">
    <ul class="menu">
      <li [class.active]="activeMenu === 'dashboard'" (click)="setActiveMenu('dashboard')">
        <i class="bi bi-grid"></i>
        <span class="label">Dashboard</span>
      </li>
      <li [class.active]="activeMenu === 'applications'" (click)="setActiveMenu('applications')">
        <i class="bi bi-layers"></i>
        <span class="label">Applications</span>
      </li>
      <li [class.active]="activeMenu === 'request'" (click)="setActiveMenu('request')">
        <i class="bi bi-arrow-left-right"></i>
        <span class="label">Change Request</span>
      </li>
      <li [class.active]="activeMenu === 'reports'" (click)="setActiveMenu('reports')">
        <i class="bi bi-bar-chart-line"></i>
        <span class="label">Reports</span>
      </li>
      <li [class.active]="activeMenu === 'search'" (click)="setActiveMenu('search')">
        <i class="bi bi-search"></i>
        <span class="label">Search</span>
      </li>
      <li [class.active]="activeMenu === 'settings'" (click)="setActiveMenu('settings')">
        <i class="bi bi-gear"></i>
        <span class="label">Settings</span>
      </li>
      <li [class.active]="activeMenu === 'help'" (click)="setActiveMenu('help')">
        <i class="bi bi-question-circle"></i>
        <span class="label">Help</span>
      </li>
    </ul>
  </div>
<!-- Outer dashboard box (like card) -->
<div >

  <!-- Header Row -->
  <div class="dashboard-header-card p-3 mb-3 shadow-sm bg-white rounded">
    <div class="dashboard-header d-flex justify-content-between align-items-center">
      <div class="title-section">
        <h4 class="mb-1">ISA Dashboard1</h4>
        <span class="breadcrumb text-muted">Dashboard / ISA Dashboard1</span>
      </div>
      <div class="actions d-flex align-items-center">
        <input type="text" placeholder="Search..." class="form-control me-2" />
        <i class="fa fa-filter filter-icon text-secondary"></i>
      </div>
    </div>
  </div>

  <!-- Cards Section -->
  <div class="row mt-3 " >
    <div class="col-lg-3 col-md-6 col-sm-12 mb-4 bg-white" *ngFor="let column of columns">
      <div class="column-box ">
  
        <!-- Column Title -->
        <h5 [style.background]="column.color" class="p-2 text-dark rounded d-flex justify-content-between align-items-center">
          {{ column.title }}
          <span class="badge bg-light text-dark">{{ column.cards.length }}</span>
        </h5>
  
        <!-- Cards -->
        <div class="card card-box mt-3" *ngFor="let card of column.cards">
          <div class="card-body p-3 position-relative">
  
            <!-- Header Section with vertical strip and bottom border -->
            <div class="d-flex border-bottom pb-2 position-relative">
              <!-- Vertical color strip just for the header -->
              <div class="strip-header" [style.background]="column.color"></div>
  
              <!-- ID and Date -->
              <div class="flex-grow-1 ps-2 pe-2">
                <strong class="text-dark">#{{ card.id }}</strong><br>
                <small class="text-dark">{{ card.date | date: 'dd MMM yyyy, h:mm a' }}</small>
              </div>
  
              <!-- Menu Icon -->
              <div class="text-end">
                <i class="bi bi-three-dots-vertical"></i>
              </div>
            </div>
  
            <!-- Two Column Layout -->
            <div class="row mt-3">
              <div class="col-6">
                <p class="mb-1"><strong class="text-muted">Request Type</strong></p>
                <p><strong>{{ card.requestType }}</strong></p>
  
                <p class="mb-1"><strong class="text-muted">Priority</strong></p>
                <p>
                  <span [ngClass]="{
                    'text-danger': card.priority === 'High',
                    'text-warning': card.priority === 'Medium',
                    'text-success': card.priority === 'Low'
                  }">{{ card.priority }}</span>
                </p>
              </div>
  
              <div class="col-6">
                <p class="mb-1"><strong class="text-muted">Status</strong></p>
                <p>{{ card.status || '-' }}</p>
  
                <p class="mb-1"><strong class="text-muted">Users</strong></p>
                <div class="avatar-group">
                  <img *ngFor="let user of card.users" [src]="user" class="rounded-circle me-1" width="24" height="24" alt="user">
                </div>
              </div>
            </div>
  
            <!-- Progress -->
            <div class="d-flex align-items-center mt-3">
              <div class="progress flex-grow-1" style="height: 6px;">
                <div class="progress-bar bg-warning" [style.width.%]="card.progress" role="progressbar"></div>
              </div>
              <small class="text-muted ms-2">{{ card.progress }}% complete</small>
            </div>
  
            <!-- Estimated Date -->
            <div class="text-muted mt-2 small">
              <strong>Estimated date:</strong> {{ card.estimatedDate | date: 'dd MMM yyyy' }}
            </div>
  
          </div>
        </div>
  
      </div>
    </div>
  </div>
  

</div>

</div>
